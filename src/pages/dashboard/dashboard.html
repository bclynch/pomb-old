<PageWrapper [displayFooter]="false" [displayNav]="false">
  <div class="dashboardContainer">
    <div class="leftMenu" [style.width]="isExpanded ? '0' : '320px'" [style.min-width]="isExpanded ? '0' : '320px'">
      <div class="logo">
        <span (click)="routerService.navigateToPage('')" title="Home">POMB</span>
      </div>
      <div class="menuRowWrapper">
        <div>Posts</div>
        <ion-icon 
          name="md-add" 
          title="Add Post" 
          class="addPost"
          (click)="launchPostEditor()"
        ></ion-icon>
      </div>
      <div class="searchContainer">
        <div>
          <ion-icon name="md-search"></ion-icon>
        </div>
        <input 
          placeholder="Search posts..."

        />
      </div>
      <div class="tabsRow">
        <div 
          class="tab boldFont" 
          *ngFor="let option of tabOptions; let i = index;"
          [style.background]="activeTab === i ? '#BABBBD' : null"
          (click)="changeTab(i)"
        >
          {{option}}
        </div>
      </div>
      <div class="postsList">
        <DashboardCard 
          [data]="post" 
          [isActive]="i === activePost" 
          *ngFor="let post of posts; let i = index"
          (changeActive)="activePost = i"
          (editPost)="launchPostEditor(post)"
        ></DashboardCard>
      </div>
    </div>
    <div class="previewContainer" [style.margin]="isExpanded ? 0 : '22px'">
      <div *ngIf="activePost >= 0">
          <ion-icon 
          name="md-arrow-up" 
          title="Expand Preview" 
          class="expandArrow"
          (click)="isExpanded = !isExpanded"
          [style.transform]="isExpanded ? 'rotate(135deg)' : 'rotate(-45deg)'"
        ></ion-icon>
        <PostWrapper [post]="posts[activePost]"></PostWrapper>
      </div>
      <div class="emptyPreview" *ngIf="activePost === null">
        <ion-icon name="md-document"></ion-icon>
        <div>Select a post to preview</div>
      </div> 
    </div>
  </div>
</PageWrapper>

